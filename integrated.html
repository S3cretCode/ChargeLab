<!DOCTYPE html>
<html lang="en" data-theme="dark">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description"
        content="See the complete connection from chemical reactions to magnetic fields in one integrated view.">
    <title>Integrated Concepts | Project ChargeLab</title>

    <link rel="icon" type="image/svg+xml" href="assets/favicon.svg">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <a href="#main-content" class="skip-link">Skip to main content</a>

    <!-- Header -->
    <header class="header">
        <div class="header__inner">
            <a href="index.html" class="header__logo">
                <img src="logo.svg" alt="" width="40" height="40">
                <span>ChargeLab</span>
            </a>

            <nav class="nav">
                <button class="nav-toggle" aria-label="Toggle navigation" aria-expanded="false">
                    <span class="nav-toggle__bar"></span>
                    <span class="nav-toggle__bar"></span>
                    <span class="nav-toggle__bar"></span>
                </button>

                <ul class="nav__list">
                    <li><a href="index.html" class="nav__link">Home</a></li>
                    <li><a href="chemistry.html" class="nav__link">Chemistry</a></li>
                    <li><a href="physics.html" class="nav__link">Physics</a></li>
                    <li><a href="integrated.html" class="nav__link nav__link--active">Integrated</a></li>
                    <li><a href="simulations.html" class="nav__link">Simulations</a></li>
                    <li><a href="glossary.html" class="nav__link">Glossary</a></li>
                    <li><a href="sources.html" class="nav__link">Sources</a></li>
                    <li><a href="about.html" class="nav__link">About</a></li>
                </ul>

                <div class="mode-toggle">
                    <button class="mode-toggle__btn" data-mode="chemistry" aria-pressed="false">
                        ‚öõÔ∏è Chemistry
                    </button>
                    <button class="mode-toggle__btn" data-mode="physics" aria-pressed="false">
                        üß≤ Physics
                    </button>
                </div>
            </nav>
        </div>
    </header>

    <main id="main-content" class="page-wrapper">
        <div class="container">
            <div class="section">
                <h1>Integrated Concepts: The Complete Picture</h1>
                <p class="text-muted">
                    From atoms to fields ‚Äî see how chemistry and physics connect in real devices.
                </p>
            </div>

            <!-- Conceptual Overview -->
            <section class="section" id="overview">
                <h2>The Energy Conversion Chain</h2>

                <p>
                    Every battery-powered electromagnet demonstrates a remarkable chain of energy
                    conversions. Understanding this chain is the key to connecting chemistry and physics.
                </p>

                <div class="card mb-xl">
                    <div
                        style="display: flex; flex-wrap: wrap; justify-content: center; align-items: center; gap: 1rem; text-align: center;">
                        <div
                            style="padding: 1rem; background: linear-gradient(135deg, #3EF1C6, #2BC5AA); border-radius: var(--radius-md); color: var(--color-bg-primary);">
                            <strong>Chemical Bonds</strong><br>
                            <small>Zn + MnO‚ÇÇ</small>
                        </div>
                        <span style="font-size: 1.5rem;">‚Üí</span>
                        <div
                            style="padding: 1rem; background: var(--color-bg-secondary); border-radius: var(--radius-md);">
                            <strong>Electron Release</strong><br>
                            <small>Redox reaction</small>
                        </div>
                        <span style="font-size: 1.5rem;">‚Üí</span>
                        <div
                            style="padding: 1rem; background: linear-gradient(135deg, #00D1FF, #0099CC); border-radius: var(--radius-md); color: var(--color-bg-primary);">
                            <strong>Electric Current</strong><br>
                            <small>I = Q/t</small>
                        </div>
                        <span style="font-size: 1.5rem;">‚Üí</span>
                        <div
                            style="padding: 1rem; background: var(--color-bg-secondary); border-radius: var(--radius-md);">
                            <strong>Magnetic Field</strong><br>
                            <small>B = Œº‚ÇÄNI/L</small>
                        </div>
                        <span style="font-size: 1.5rem;">‚Üí</span>
                        <div
                            style="padding: 1rem; background: linear-gradient(135deg, #3EF1C6, #00D1FF); border-radius: var(--radius-md); color: var(--color-bg-primary);">
                            <strong>Useful Work</strong><br>
                            <small>Motors, speakers</small>
                        </div>
                    </div>
                </div>

                <div class="grid grid--2">
                    <div class="card">
                        <h3 class="text-cyan">Chemistry's Role</h3>
                        <p>
                            The <a href="glossary.html#redox">redox reaction</a> provides the
                            <strong>source of electrons</strong>. The limiting reagent determines
                            how many electron-moles (and thus how much charge) can be produced.
                        </p>
                        <ul class="mt-md">
                            <li>Zn oxidation releases 2 electrons per atom</li>
                            <li>Faraday's constant converts moles to Coulombs</li>
                            <li>Cell voltage determines energy per charge</li>
                        </ul>
                    </div>

                    <div class="card">
                        <h3 class="text-teal">Physics's Role</h3>
                        <p>
                            Electric current flowing through conductors creates
                            <strong>magnetic fields</strong>. The geometry (solenoid, loop) and
                            material (core permeability) determine field strength.
                        </p>
                        <ul class="mt-md">
                            <li>Current creates magnetic fields around conductors</li>
                            <li>Coiling wire concentrates the field</li>
                            <li>Ferromagnetic cores amplify the field</li>
                        </ul>
                    </div>
                </div>
            </section>

            <!-- Interactive Pipeline -->
            <section class="section" id="pipeline">
                <h2>Interactive Pipeline</h2>

                <p class="mb-lg">
                    Use the calculators below as a connected pipeline. Run the chemistry calculation
                    first, then chain the results into the physics simulator.
                </p>

                <div id="integrated-pipeline">
                    <div class="grid grid--2">
                        <!-- Chemistry Panel Link -->
                        <div class="card" id="pipeline-chemistry">
                            <h3>‚öõÔ∏è Step 1: Chemistry Calculation</h3>
                            <p class="text-muted mb-md">
                                Calculate how many electrons your reaction produces:
                            </p>

                            <div class="results-panel">
                                <p class="text-center text-muted" id="chem-summary">
                                    No chemistry calculation loaded yet.
                                </p>
                            </div>

                            <a href="chemistry.html?massZn=1&massMnO2=2" class="btn btn--primary mt-lg"
                                style="width: 100%;">
                                Open Chemistry Calculator
                            </a>
                        </div>

                        <!-- Physics Panel Link -->
                        <div class="card" id="pipeline-physics">
                            <h3>üß≤ Step 2: Physics Simulation</h3>
                            <p class="text-muted mb-md">
                                Use the calculated current to produce a magnetic field:
                            </p>

                            <div class="results-panel">
                                <p class="text-center text-muted" id="phys-summary">
                                    Run chemistry first to enable current import.
                                </p>
                            </div>

                            <a href="physics.html" class="btn btn--primary mt-lg" style="width: 100%;">
                                Open Physics Simulator
                            </a>
                        </div>
                    </div>

                    <!-- Sankey Visualization -->
                    <div class="card mt-xl">
                        <h3>Energy & Charge Flow Visualization</h3>
                        <div id="pipeline-sankey" class="sankey-container">
                            <div class="sankey-placeholder text-center">
                                <p class="text-muted">
                                    Run the <a href="chemistry.html">Chemistry calculator</a> first,
                                    then return here to see the energy flow diagram.
                                </p>
                            </div>
                        </div>
                    </div>

                    <!-- Interpretation -->
                    <div class="card mt-lg" id="pipeline-interpretation">
                        <!-- Populated by JavaScript when chemistry data is available -->
                    </div>
                </div>
            </section>

            <!-- Complete Example -->
            <section class="section" id="complete-example">
                <h2>Worked Integration Example</h2>

                <article class="example">
                    <div class="example__header">
                        <span class="example__number">üîó</span>
                        <h3 class="example__title">From Battery to Electromagnet</h3>
                    </div>
                    <div class="example__body">
                        <div class="example__problem">
                            <strong>Scenario:</strong> A small zinc-carbon cell powers a solenoid electromagnet.
                            The cell contains 1.0 g Zn and 2.0 g MnO‚ÇÇ. The solenoid has 200 turns over 5 cm
                            with an air core. Calculate the magnetic field strength, assuming the battery
                            can maintain 1.5 V with a 10 Œ© load resistance.
                        </div>

                        <div class="example__solution">
                            <h4 class="text-cyan mb-md">Part A: Chemistry</h4>

                            <div class="work-step mt-md">
                                <span class="work-step__number">1</span>
                                <div class="work-step__content">
                                    <strong>Calculate moles:</strong>
                                    <p class="work-step__formula">
                                        n(Zn) = 1.0 / 65.38 = 0.0153 mol<br>
                                        n(MnO‚ÇÇ) = 2.0 / 86.936 = 0.0230 mol
                                    </p>
                                </div>
                            </div>

                            <div class="work-step">
                                <span class="work-step__number">2</span>
                                <div class="work-step__content">
                                    <strong>Find limiting reagent:</strong>
                                    <p class="work-step__formula">
                                        Need 2√ó0.0153 = 0.0306 mol MnO‚ÇÇ for all Zn<br>
                                        Only have 0.0230 mol ‚Üí <strong>MnO‚ÇÇ is limiting</strong>
                                    </p>
                                </div>
                            </div>

                            <div class="work-step">
                                <span class="work-step__number">3</span>
                                <div class="work-step__content">
                                    <strong>Calculate charge and current:</strong>
                                    <p class="work-step__formula">
                                        n(reaction) = 0.0230 / 2 = 0.0115 mol<br>
                                        Q = 2 √ó 0.0115 √ó 96485 = 2221 C<br>
                                        I = V/R = 1.5 / 10 = <strong>0.15 A</strong>
                                    </p>
                                </div>
                            </div>

                            <h4 class="text-teal mb-md mt-xl">Part B: Physics</h4>

                            <div class="work-step">
                                <span class="work-step__number">4</span>
                                <div class="work-step__content">
                                    <strong>Apply solenoid formula with the calculated current:</strong>
                                    <p class="work-step__formula">
                                        B = Œº‚ÇÄ √ó N √ó I / L<br>
                                        B = (4œÄ √ó 10‚Åª‚Å∑) √ó 200 √ó 0.15 / 0.05<br>
                                        B = <strong class="text-teal">7.54 √ó 10‚Åª‚Å¥ T = 0.754 mT</strong>
                                    </p>
                                </div>
                            </div>

                            <div class="work-step">
                                <span class="work-step__number">5</span>
                                <div class="work-step__content">
                                    <strong>Interpretation:</strong>
                                    <p>
                                        The electromagnet produces a 0.754 mT field ‚Äî about 15√ó stronger than
                                        Earth's magnetic field. If we added a ferrite core (Œº·µ£ = 2000), the
                                        field would increase to <strong>1.51 T</strong>, strong enough for
                                        practical applications like lifting small iron objects.
                                    </p>
                                </div>
                            </div>
                        </div>
                    </div>
                </article>
            </section>

            <!-- Real-World Devices -->
            <section class="section" id="devices">
                <h2>Real-World Integrated Devices</h2>

                <div class="grid grid--2">
                    <div class="card">
                        <h3>üîã Batteries + Motors = Electric Vehicles</h3>
                        <p>
                            Electric vehicles use large lithium-ion batteries that produce hundreds of
                            amperes of current. This flows through motor windings (solenoids) to create
                            powerful magnetic fields that interact with permanent magnets, producing torque.
                        </p>
                        <p class="text-muted mt-md">
                            <strong>Scale:</strong> Tesla Model 3 motor produces ~300 kW using ~600 A peak current
                        </p>
                    </div>

                    <div class="card">
                        <h3>üîä Batteries + Coils = Wireless Speakers</h3>
                        <p>
                            Bluetooth speakers contain batteries powering electromagnetic voice coils.
                            The varying current creates a varying magnetic field that pushes the speaker
                            cone back and forth, creating sound waves.
                        </p>
                        <p class="text-muted mt-md">
                            <strong>Scale:</strong> Typical speaker uses ~0.1-1 A through a 20-turn coil
                        </p>
                    </div>

                    <div class="card">
                        <h3>üö™ Batteries + Solenoids = Door Locks</h3>
                        <p>
                            Electronic door locks use battery-powered solenoids. When current flows,
                            the solenoid creates a magnetic field that pulls an iron plunger,
                            unlocking the door.
                        </p>
                        <p class="text-muted mt-md">
                            <strong>Scale:</strong> ~0.5 A through a 100-turn solenoid with iron core
                        </p>
                    </div>

                    <div class="card">
                        <h3>üì± Batteries + Tiny Coils = Phone Haptics</h3>
                        <p>
                            The vibration motor in your phone uses a tiny electromagnet. Current pulses
                            create magnetic fields that move a small weight, creating the vibration
                            sensation.
                        </p>
                        <p class="text-muted mt-md">
                            <strong>Scale:</strong> ~0.05 A through miniature coils
                        </p>
                    </div>
                </div>
            </section>

            <!-- CTA -->
            <section class="section">
                <div class="card text-center">
                    <h2>Ready to Experiment?</h2>
                    <p>
                        Try the virtual labs to see these concepts in action with interactive
                        simulations you can adjust in real-time.
                    </p>
                    <div class="flex gap-md justify-center mt-lg" style="justify-content: center;">
                        <a href="simulations.html" class="btn btn--primary btn--lg">
                            üß™ Open Virtual Labs
                        </a>
                    </div>
                </div>
            </section>
        </div>
    </main>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer__inner">
                <div class="footer__links">
                    <a href="glossary.html" class="footer__link">Glossary</a>
                    <a href="sources.html" class="footer__link">Sources</a>
                    <a href="about.html" class="footer__link">About</a>
                </div>
                <p class="footer__copy">
                    Project ChargeLab ‚Äî Grade 11 Chemistry + Physics Final Project
                </p>
            </div>
        </div>
    </footer>

    <script src="main.js"></script>
    <script src="simulations.js"></script>
    <script>
        // Load chemistry results if available
        document.addEventListener('DOMContentLoaded', () => {
            const chemResults = window.ChargeLab?.AppState?.load('chemistry_results');
            if (chemResults) {
                const chemSummary = document.getElementById('chem-summary');
                const physSummary = document.getElementById('phys-summary');

                if (chemSummary) {
                    chemSummary.innerHTML = `
            <strong>Last calculation:</strong><br>
            Q = ${chemResults.chargeQ?.toFixed(1)} C<br>
            E = ${chemResults.energyWh?.toFixed(4)} Wh
            ${chemResults.current ? `<br>I = ${chemResults.current.toFixed(4)} A` : ''}
          `;
                }

                if (physSummary && chemResults.current) {
                    physSummary.innerHTML = `
            <strong>Available to import:</strong><br>
            I = ${chemResults.current.toFixed(4)} A<br>
            <a href="physics.html" class="text-cyan">Open simulator to use this value ‚Üí</a>
          `;
                }
            }
        });
    </script>
</body>

</html>